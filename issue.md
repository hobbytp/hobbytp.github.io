# CSSåŠ è½½é—®é¢˜è¯¦ç»†æŠ¥å‘Š

## é—®é¢˜ç°è±¡

### 1. æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

```
Error> Refused to apply style from 'http://localhost:1313/css/main.css' because its MIME type ('text/plain') is not a supported stylesheet MIME type, and strict MIME checking is enabled.
```

### 2. ç½‘ç»œè¯·æ±‚çŠ¶æ€

- `http://localhost:1313/css/main.css` - **GET [failed - net::ERR_ABORTED]**
- `http://localhost:1313/css/custom.css` - **GET [failed - 304]**

### 3. æ–‡ä»¶ç³»ç»Ÿæ£€æŸ¥ç»“æœ

```bash
# Hugoç”Ÿæˆçš„CSSæ–‡ä»¶
/src/public/css/custom.backup.css  (0 bytes)
/src/public/css/custom.css         (62160 bytes)

# ç¼ºå¤±çš„æ–‡ä»¶
/src/public/assets/css/stylesheet.css  (ä¸å­˜åœ¨)
/src/public/assets/css/main.css         (ä¸å­˜åœ¨)
/src/public/assets/css/core.css         (ä¸å­˜åœ¨)
```

## é—®é¢˜åˆ†æ

### æ ¹æœ¬åŸå› 

1. **è‡ªå®šä¹‰å¸ƒå±€è¦†ç›–ä¸»é¢˜é»˜è®¤è¡Œä¸º**
   - æˆ‘ä»¬çš„ `layouts/_default/list.html` è¦†ç›–äº†PaperModä¸»é¢˜çš„é»˜è®¤å¸ƒå±€
   - è¿™å¯¼è‡´Hugoæ— æ³•æ­£ç¡®ç”Ÿæˆä¸»é¢˜çš„CSSæ–‡ä»¶

2. **Hugoèµ„æºç®¡é“å¤„ç†é—®é¢˜**
   - PaperModä¸»é¢˜ä½¿ç”¨Hugoçš„èµ„æºç®¡é“ç”ŸæˆCSSæ–‡ä»¶
   - è‡ªå®šä¹‰å¸ƒå±€é˜»æ­¢äº†ä¸»é¢˜CSSçš„æ­£ç¡®ç”Ÿæˆ

3. **MIMEç±»å‹é”™è¯¯**
   - `main.css` æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä½†HTMLä¸­ä»ç„¶å¼•ç”¨
   - æœåŠ¡å™¨è¿”å› `text/plain` è€Œä¸æ˜¯ `text/css`

### æŠ€æœ¯ç»†èŠ‚

- **ä¸»é¢˜**: PaperMod
- **Hugoç‰ˆæœ¬**: v0.149.0
- **æ„å»ºæ–¹å¼**: Dockerå®¹å™¨
- **CSSå¤„ç†**: Hugoèµ„æºç®¡é“ + è‡ªå®šä¹‰å¸ƒå±€

## è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: å†…è”CSSï¼ˆå½“å‰é‡‡ç”¨ï¼‰

```html
<!-- åœ¨ layouts/partials/extend_head.html ä¸­ -->
{{- partial "inline-css.html" . -}}
```

**ä¼˜ç‚¹**:

- é¿å…MIMEç±»å‹é—®é¢˜
- ä¸ä¾èµ–å¤–éƒ¨æ–‡ä»¶
- ç¡®ä¿æ ·å¼æ­£ç¡®åŠ è½½

**ç¼ºç‚¹**:

- HTMLæ–‡ä»¶ä½“ç§¯å¢å¤§
- ç¼“å­˜æ•ˆç‡é™ä½

### æ–¹æ¡ˆ2: ä¿®å¤Hugoèµ„æºé…ç½®

```toml
# config.toml
[assets]
[assets.css]
[assets.css.minify]
```

**çŠ¶æ€**: å·²é…ç½®ï¼Œä½†æœªç”Ÿæ•ˆ

### æ–¹æ¡ˆ3: ç›´æ¥å¼•ç”¨é™æ€æ–‡ä»¶

```html
<link rel="stylesheet" href="{{ "css/custom.css" | absURL }}">
```

**çŠ¶æ€**: å°è¯•è¿‡ï¼Œä½†ä»æœ‰MIMEç±»å‹é—®é¢˜

## å½“å‰çŠ¶æ€

### âœ… å·²è§£å†³

- è‡ªå®šä¹‰æ ·å¼æ­£ç¡®åŠ è½½
- æ·±è“å­¦æœ¯é£é…è‰²æ–¹æ¡ˆç”Ÿæ•ˆ
- æ ‡ç­¾å’Œå¼•ç”¨å—æ ·å¼ä¼˜åŒ–
- å“åº”å¼è®¾è®¡æ­£å¸¸

### âš ï¸ ä»å­˜åœ¨é—®é¢˜

- `main.css` æ–‡ä»¶ç¼ºå¤±ï¼ˆä¸»é¢˜CSSï¼‰
- æ§åˆ¶å°ä»æœ‰MIMEç±»å‹é”™è¯¯
- ç½‘ç»œè¯·æ±‚æ˜¾ç¤º404é”™è¯¯

### ğŸ”§ ä¸´æ—¶è§£å†³æ–¹æ¡ˆ

- ä½¿ç”¨å†…è”CSSé¿å…å¤–éƒ¨æ–‡ä»¶ä¾èµ–
- æ‰€æœ‰è‡ªå®šä¹‰æ ·å¼é€šè¿‡ `inline-css.html` åŠ è½½
- ç¡®ä¿æ ·å¼æ­£ç¡®æ˜¾ç¤ºï¼Œå¿½ç•¥æ§åˆ¶å°é”™è¯¯

## å»ºè®®çš„é•¿æœŸè§£å†³æ–¹æ¡ˆ

### 1. ä¿®å¤ä¸»é¢˜CSSç”Ÿæˆ

```bash
# æ£€æŸ¥Hugoæ˜¯å¦æ­£ç¡®å¤„ç†ä¸»é¢˜èµ„æº
docker compose exec hugo hugo --buildDrafts --buildFuture --minify
```

### 2. ä¼˜åŒ–èµ„æºé…ç½®

```toml
# config.toml ä¼˜åŒ–
[assets]
[assets.css]
[assets.css.minify]
[assets.css.postCSS]
```

### 3. æ£€æŸ¥è‡ªå®šä¹‰å¸ƒå±€

- ç¡®ä¿è‡ªå®šä¹‰å¸ƒå±€ä¸é˜»æ­¢ä¸»é¢˜CSSç”Ÿæˆ
- ä½¿ç”¨Hugoçš„æ¨¡æ¿ç»§æ‰¿æœºåˆ¶

## æµ‹è¯•éªŒè¯

### éªŒè¯æ­¥éª¤

1. é‡å¯HugoæœåŠ¡å™¨
2. æ£€æŸ¥æ§åˆ¶å°é”™è¯¯
3. éªŒè¯æ ·å¼æ˜¯å¦æ­£ç¡®åº”ç”¨
4. æµ‹è¯•å“åº”å¼è®¾è®¡

### é¢„æœŸç»“æœ

- æ§åˆ¶å°æ— CSSç›¸å…³é”™è¯¯
- æ‰€æœ‰æ ·å¼æ­£ç¡®æ˜¾ç¤º
- ç§»åŠ¨ç«¯é€‚é…æ­£å¸¸

## ç›¸å…³æ–‡ä»¶

### ä¿®æ”¹çš„æ–‡ä»¶

- `layouts/partials/extend_head.html` - CSSåŠ è½½æ–¹å¼
- `layouts/partials/inline-css.html` - å†…è”æ ·å¼å†…å®¹
- `static/css/custom.css` - è‡ªå®šä¹‰æ ·å¼æ–‡ä»¶
- `assets/css/custom.css` - èµ„æºæ–‡ä»¶

### å…³é”®é…ç½®

- `config.toml` - Hugoèµ„æºé…ç½®
- `docker-compose.yml` - å®¹å™¨é…ç½®
- `layouts/_default/list.html` - è‡ªå®šä¹‰å¸ƒå±€

## ä¸‹ä¸€æ­¥è®¡åˆ’

1. **çŸ­æœŸ**: ç»§ç»­ä½¿ç”¨å†…è”CSSæ–¹æ¡ˆ
2. **ä¸­æœŸ**: ç ”ç©¶Hugoèµ„æºç®¡é“æœ€ä½³å®è·µ
3. **é•¿æœŸ**: ä¼˜åŒ–CSSåŠ è½½æ€§èƒ½å’Œç¼“å­˜ç­–ç•¥

---

**åˆ›å»ºæ—¶é—´**: 2025-01-05  
**é—®é¢˜çŠ¶æ€**: éƒ¨åˆ†è§£å†³ï¼ˆæ ·å¼æ­£å¸¸ï¼Œä½†æ§åˆ¶å°ä»æœ‰é”™è¯¯ï¼‰  
**ä¼˜å…ˆçº§**: ä¸­ç­‰ï¼ˆä¸å½±å“åŠŸèƒ½ï¼Œä½†å½±å“å¼€å‘ä½“éªŒï¼‰





